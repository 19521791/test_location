<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>ArcGIS Map with Region, Floor, Nodes, and Edges</title>
    <style>
        html,
        body,
        #viewDiv {
            padding: 0;
            margin: 0;
            height: 100%;
            width: 100%;
        }
    </style>

    <!-- ArcGIS API -->
    <link rel="stylesheet" href="https://js.arcgis.com/4.29/esri/themes/light/main.css">
    <script src="https://js.arcgis.com/4.29/"></script>

    <script>
        window.onload = function () {
            var mapData = {
                "regions": [
                    {
                        type: "polygon",
                        rings: [
                            [106.8030304451, 10.8699855183], [106.8028035303, 10.8699870988], [106.8026303688, 10.8701507809], [106.802689955, 10.8702128688], [106.8026851595, 10.8703030209], [106.8026452728, 10.8703625019], [106.8027901521, 10.8705059771], [106.8028242413, 10.8704748908], [106.8028814626, 10.8705394547], [106.8028473733, 10.870599236], [106.802885115, 10.8706303223], [106.8028899849, 10.8707128205], [106.8028571131, 10.8707474937], [106.8029179868, 10.8708144487], [106.8029680397, 10.8707787346], [106.8030297305, 10.8707876905], [106.8030817654, 10.8708277285], [106.8031845989, 10.8707291109], [106.8031583133, 10.8707075115], [106.8031722608, 10.8706853852], [106.8031760159, 10.8706453472], [106.8031411472, 10.8706153187], [106.8031813803, 10.8705705394], [106.8030832114, 10.8704862489], [106.803036541, 10.8705278673], [106.8030107918, 10.8704988925], [106.8031800231, 10.8703503461], [106.8031403265, 10.8703013522], [106.8031387171, 10.8701980962], [106.8031875333, 10.8701301369], [106.8030304451, 10.8699855183]
                        ],
                        name: "Tòa A",
                        symbol: {
                            type: "simple-fill",
                            color: [51, 153, 255, 0.3],
                            outline: { color: [0, 0, 255], width: 2 }
                        },
                        popupTemplate: {
                            title: "{name}",
                            content: "This is Region A."
                        }
                    },
                    {
                        type: "polygon",
                        rings: [
                            [106.8027195666, 10.8696748397], [106.8023813736, 10.8696771116], [106.8023786913, 10.8696902821], [106.802384324, 10.8696989745], [106.8023829829, 10.8697031891], [106.8024009537, 10.8697087207], [106.8024240207, 10.8697081938], [106.8024253618, 10.8698032844], [106.8027120564, 10.8698033831], [106.80271152, 10.8697751984], [106.8027337823, 10.8697778325], [106.8027340505, 10.8698057538], [106.8027603362, 10.8698186608], [106.8027922545, 10.8698299874], [106.8028185401, 10.8698218217], [106.8028247092, 10.8697999588], [106.8028021786, 10.8697264678], [106.8027541671, 10.8697275215], [106.8027195666, 10.8696748397]
                        ],
                        name: "Tòa E",
                        symbol: {
                            type: "simple-fill",
                            color: [51, 153, 255, 0.3],
                            outline: { color: [0, 0, 255], width: 2 }
                        },
                        popupTemplate: {
                            title: "{name}",
                            content: "This is Region E."
                        }
                    },
                    {
                        type: "polygon",
                        rings: [
                            [106.8036213252, 10.8698283411], [106.8034062121, 10.869874701], [106.8034260605, 10.8699821716], [106.8034780598, 10.8700758443], [106.803549943, 10.8701517059], [106.8036668873, 10.8702107093], [106.8037462807, 10.8702254602], [106.8038106537, 10.8702233529], [106.8040059185, 10.870188583], [106.804066, 10.8701453841], [106.8041051603, 10.8701065972], [106.8041346646, 10.8700736712], [106.8041727519, 10.8700088727], [106.8042330346, 10.8698521447], [106.8039787611, 10.8698665004], [106.8039412102, 10.8699428889], [106.8039766154, 10.8699776588], [106.8039540848, 10.870002946], [106.8038757643, 10.8700329746], [106.8037577471, 10.8700456182], [106.8036869368, 10.8700398232], [106.8036418757, 10.8699618543], [106.8037003479, 10.8699370939], [106.8036213252, 10.8698283411]
                        ],
                        name: "Tòa B",
                        symbol: {
                            type: "simple-fill",
                            color: [51, 153, 255, 0.3],
                            outline: { color: [0, 0, 255], width: 2 }
                        },
                        popupTemplate: {
                            title: "{name}",
                            content: "This is Region B."
                        }
                    },
                    {
                        type: "polygon",
                        rings: [
                            [106.8036722496, 10.8693243122], [106.802783902, 10.8693243122], [106.802783902, 10.8694086032], [106.8026079491, 10.8694086032], [106.8026058032, 10.8695202886], [106.8027796105, 10.8695202886], [106.8027753189, 10.8695982576], [106.803667958, 10.8695877212], [106.8036718472, 10.8694939477], [106.8037280396, 10.8694928941], [106.8037292465, 10.8694391587], [106.8036718472, 10.8694386318], [106.8036722496, 10.8693243122]
                        ],
                        name: "Tòa C",
                        symbol: {
                            type: "simple-fill",
                            color: [51, 153, 255, 0.3],
                            outline: { color: [0, 0, 255], width: 2 }
                        },
                        popupTemplate: {
                            title: "{name}",
                            content: "."
                        }
                    },
                    {
                        type: "polygon",
                        rings: [
                            [106.804605114, 10.8697314957], [106.8044980939, 10.8698272776], [106.8044040825, 10.86982978], [106.8043609222, 10.8698649394], [106.8043535964, 10.8698819293], [106.8043508472, 10.869903002], [106.8043533785, 10.8699423154], [106.8043613486, 10.8699618457], [106.8043726139, 10.8699729089], [106.8043987655, 10.8699880549], [106.8044129812, 10.8699906889], [106.8044230395, 10.8699959571], [106.8044232463, 10.8700273139], [106.8045010304, 10.8700326315], [106.8045277184, 10.8700458019], [106.8045840783, 10.8700429208], [106.8046044631, 10.8700327796], [106.8046719206, 10.8700298821], [106.8046695042, 10.869892786], [106.8047156211, 10.8698373859], [106.804605114, 10.8697314957]
                        ],
                        name: "Nhà ăn",
                        symbol: {
                            type: "simple-fill",
                            color: [51, 153, 255, 0.3],
                            outline: { color: [0, 0, 255], width: 2 }
                        },
                        popupTemplate: {
                            title: "{name}",
                            content: "."
                        }
                    },
                    {
                        type: "polygon",
                        rings: [
                            [106.8036774222, 10.8687476484], [106.8036154632, 10.8688208762], [106.8037126933, 10.8689020063], [106.8037761275, 10.8688290419], [106.8036774222, 10.8687476484]
                        ],
                        name: "Tòa D",
                        symbol: {
                            type: "simple-fill",
                            color: [51, 153, 255, 0.3],
                            outline: { color: [0, 0, 255], width: 2 }
                        },
                        popupTemplate: {
                            title: "{name}",
                            content: "."
                        }
                    },
                    {
                        type: "polygon",
                        rings: [
                            [106.8019540236, 10.8702273419], [106.8018676894, 10.8702969091], [106.8019407414, 10.8703773462], [106.802027629, 10.8703050615], [106.8019540236, 10.8702273419]
                        ],
                        name: "Phòng bảo vệ cổng trước",
                        symbol: {
                            type: "simple-fill",
                            color: [51, 153, 255, 0.3],
                            outline: { color: [0, 0, 255], width: 2 }
                        },
                        popupTemplate: {
                            title: "{name}",
                            content: "."
                        }
                    },
                    {
                        type: "polygon",
                        rings: [
                            [106.8040716833, 10.8690075608], [106.8040257112, 10.8690551579], [106.8039809854, 10.8690097528], [106.8039447756, 10.8690437326], [106.8039666356, 10.8690663858], [106.80396153, 10.8690895624], [106.8040623306, 10.8691844624], [106.8041567093, 10.8690872122], [106.8040716833, 10.8690075608]
                        ],
                        name: "Phòng bảo vệ cổng sau",
                        symbol: {
                            type: "simple-fill",
                            color: [51, 153, 255, 0.3],
                            outline: { color: [0, 0, 255], width: 2 }
                        },
                        popupTemplate: {
                            title: "{name}",
                            content: "."
                        }
                    },
                    {
                        type: "polygon",
                        rings: [
                            [106.8039613047, 10.8703655397], [106.8033862392, 10.8708038504], [106.8034011254, 10.8713671472], [106.8032627234, 10.8714361598], [106.8032120476, 10.871468731], [106.8026275864, 10.8709013556], [106.802548193, 10.8709866997], [106.8030946931, 10.8714954708], [106.8031866928, 10.8716474567], [106.8033122202, 10.8715763368], [106.8043217936, 10.8707869922], [106.8039613047, 10.8703655397]
                        ],
                        name: "Bãi đỗ xe",
                        symbol: {
                            type: "simple-fill",
                            color: [51, 153, 255, 0.3],
                            outline: { color: [0, 0, 255], width: 2 }
                        },
                        popupTemplate: {
                            title: "{name}",
                            content: "."
                        }
                    },
                    {
                        type: "polygon",
                        rings: [
                            [106.8040048446, 10.8692795931], [106.803977771, 10.8695478915], [106.8041816022, 10.8695664289], [106.8041896823, 10.8694852002], [106.8040814887, 10.8694751084], [106.8040981855, 10.8692906563], [106.8040048446, 10.8692795931]
                        ],
                        name: "Canteen",
                        symbol: {
                            type: "simple-fill",
                            color: [51, 153, 255, 0.3],
                            outline: { color: [0, 0, 255], width: 2 }
                        },
                        popupTemplate: {
                            title: "{name}",
                            content: "."
                        }
                    },
                    {
                        type: "polygon",
                        rings: [
                            [106.8033005308, 10.868852478], [106.8032506418, 10.8689120085], [106.8032100063, 10.8690934316], [106.8032428633, 10.869251938], [106.8036645066, 10.869298298], [106.8038061272, 10.8692292848], [106.8037793051, 10.8690975803], [106.8033005308, 10.868852478]
                        ],
                        name: "Sân bóng đá",
                        symbol: {
                            type: "simple-fill",
                            color: [0, 128, 0, 0.3],
                            outline: { color: [0, 128, 0], width: 2 }
                        },
                        popupTemplate: {
                            title: "{name}",
                            content: "."
                        }
                    },
                    {
                        type: "polygon",
                        rings: [
                            [106.8030134004, 10.8690063748], [106.803008036, 10.8692439699], [106.8031453651, 10.869246604], [106.8031555575, 10.8690079553], [106.8030134004, 10.8690063748]
                        ],
                        name: "Sân bóng chuyền",
                        symbol: {
                            type: "simple-fill",
                            color: [253, 209, 117, 0.3],
                            outline: { color: [253, 209, 117, 255], width: 2 }
                        },
                        popupTemplate: {
                            title: "{name}",
                            content: "."
                        }
                    },
                    {
                        type: "polygon",
                        rings: [
                            [106.8029397997, 10.8690086706], [106.8028051529, 10.8690097242], [106.8028017085, 10.8692451243], [106.8029367599, 10.8692457035], [106.8029397997, 10.8690086706]
                        ],
                        name: "Sân bóng rổ",
                        symbol: {
                            type: "simple-fill",
                            color: [253, 165, 0, 0.3],
                            outline: { color: [253, 165, 0, 255], width: 2 }
                        },
                        popupTemplate: {
                            title: "{name}",
                            content: "."
                        }
                    }
                ],
                "floors": [
                ],
                "nodes": [
                    { x: 106.8020184318, y: 10.8704696515, name: "Cổng trước" },
                    { x: 106.8039923574, y: 10.8689193906, name: "Cổng sau"},
                    { x: 106.8025803143, y: 10.8709465492, name: "Lối vào bãi giữ xe" },
                    { x: 106.8032304819, y: 10.8714586129, name: "Lối vào bãi giữ xe" },
                    { x: 106.8025064136, y: 10.8697896937, name: "Lối vào chính tòa E" },
                    { x: 106.8027456666, y: 10.8696993446, name: "Lối vào phụ tòa E" },
                    { x: 106.8026791476, y: 10.8702322198, name: "Lối vào tòa A"},
                    { x: 106.8028443718, y: 10.8705188077, name: "Lối vào tòa A"},
                    { x: 106.8031876945, y: 10.8702596142, name: "Lối vào tòa A"},
                    { x: 106.8029344939, y: 10.8699793477, name: "Lối vào tòa A"},
                    { x: 106.8043501692, y: 10.8699057635, name: "Lối vào nhà ăn"},
                    { x: 106.80398463, y: 10.86948083, name: "Lối vào canteen"},
                    { x: 106.8027432579, y: 10.869516709, name: "Lối vào tòa C"},
                    { x: 106.803433122, y: 10.8695978389, name: "Lối vào tòa C"},
                    { x: 106.8037281651, y: 10.8694661345, name: "Lối vào tòa C"},
                    { x: 106.8028355258, y: 10.8693344301, name: "Lối vào tòa C"},
                    { x: 106.8032045978, y: 10.8693302155, name: "Lối vào tòa C"},
                ],
                "edges": [
                    {
                        type: "polyline",
                        paths: [
                            [106.8027325402, 10.8679912193], [106.8011098545, 10.8695702476], [106.8026702249, 10.8712274791], [106.8028667162, 10.8715226016], [106.8029245077, 10.8716701627], [106.8029322132, 10.8717647532], [106.8030121751, 10.8718084415], [106.8030121751, 10.8718084415], [106.8051830065, 10.8702133391], [106.8046503196, 10.8696159287], [106.8039550912, 10.8688699543], [106.8027325402, 10.8679912193]
                        ],
                        name: "Khuôn viên UIT",
                        symbol: {
                            type: "simple-line",
                            outline: { color: [220, 220, 220, 0.8], width: 4 }
                        },
                        popupTemplate: {
                            title: "{name}",
                            content: "Khuôn viên trường Đại học Công nghệ Thông tin."
                        }
                    },
                    {
                        type: "polyline",
                        paths: [
                            [106.8025080659, 10.8700653279],
                            [106.8023326494, 10.8701206437],
                            [106.8019769886, 10.8704277775],
                            [106.802059875, 10.8705115255],
                            [106.802189694, 10.8704030014],
                            [106.8025080659, 10.8700653279]
                        ],
                        name: "Lối đi từ cổng chính đến các tòa nhà",
                        symbol: { type: "simple-line", color: [216, 188, 76, 0.5], width: 8 }
                    },
                    {
                        type: "polyline",
                        paths: [
                            [106.802195686, 10.8704029695], [106.8032664239, 10.8713807385], [106.8033451468, 10.8714720781], [106.8031737537, 10.8715867919], [106.8033703598, 10.8714546932], [106.8035028608, 10.8713488036], [106.8044802578, 10.87062575], [106.8044974239, 10.870585712], [106.8044995696, 10.8705435667], [106.8044909866, 10.8704929925], [106.804486695, 10.870465598], [106.8044781119, 10.8704403109], [106.8044755639, 10.8704353061], [106.8044728817, 10.8704321452], [106.8041565802, 10.8701110578]
                        ],
                        name: "Lối đi bãi đỗ xe",
                        symbol: { type: "simple-line", color: [216, 188, 76, 0.5], width: 8 }
                    },
                    {
                        type: "polyline",
                        paths: [
                            [106.8032705704, 10.8713749899], [106.8032426756, 10.8705299786], [106.8033994506, 10.8702829019], [106.803827397, 10.8702892237], [106.8039529245, 10.8702418102], [106.8040642361, 10.870177802], [106.8041522125, 10.8701082622], [106.8042112212, 10.8700018453], [106.8042337517, 10.8699175546], [106.8042391161, 10.8698574974], [106.8042283873, 10.8697405441], [106.8042133669, 10.8697078814], [106.804167233, 10.8696804869], [106.8039193968, 10.869642556], [106.8038357119, 10.8696415023], [106.8038110356, 10.8693501723], [106.8038271288, 10.8692458623], [106.8040033499, 10.8688952646]
                        ],
                        name: "Lối đi đến cổng sau",
                        symbol: { type: "simple-line", color: [216, 188, 76, 0.5], width: 8 }
                    },
                    {
                        type: "polyline",
                        paths: [
                            [106.8038369293, 10.8692307075], [106.8037006731, 10.8693128911], [106.8031956142, 10.8692811525], [106.8024177736, 10.8693616239], [106.8023224211, 10.8694822652], [106.8023094123, 10.8701377573]
                        ],
                        name: "Lối đi đến cổng sau",
                        symbol: { type: "simple-line", color: [216, 188, 76, 0.5], width: 8 }
                    },
                    {
                        type: "polyline",
                        paths: [
                            [106.8025105771, 10.870069564], [106.8026758012, 10.8702223408]
                        ],
                        name: "Lối đi bộ vào tòa A",
                        symbol: { type: "simple-line", color: [128, 128, 128], width: 4 }
                    },
                    {
                        type: "polyline",
                        paths: [
                            [106.8025137956, 10.8698103701], [106.8025105771, 10.870069564]
                        ],
                        name: "Lối đi bộ vào tòa E",
                        symbol: { type: "simple-line", color: [128, 128, 128], width: 4 }
                    },
                    {
                        type: "polyline",
                        paths: [
                            [106.8025184662, 10.8700612186],
                            [106.8029347449, 10.8698894763],
                            [106.8029304535, 10.8696776958],
                            [106.8038355504, 10.8696454565],
                            [106.8034347088, 10.8696592421],
                            [106.8034347088, 10.8696002386],
                            [106.8034346752, 10.8696594067],
                            [106.8029294587, 10.8696770057],
                            [106.8029299951, 10.8696567232],
                            [106.8029090739, 10.8696272215],
                            [106.8027980305, 10.8696108901],
                            [106.8027556516, 10.8696129974],
                            [106.8027535058, 10.8695181703]
                        ],
                        name: "Lối đi bộ vào tòa C",
                        symbol: { type: "simple-line", color: [128, 128, 128], width: 4 }
                    },
                    {
                        type: "polyline",
                        paths: [
                            [106.8032453809, 10.8705154077], [106.8032513823, 10.8701324782], [106.8034030947, 10.870282555], [106.8030737195, 10.8699569824], [106.8029331717, 10.8698895498]
                        ],
                        name: "Lối đi bộ từ bãi đỗ xe",
                        symbol: { type: "simple-line", color: [128, 128, 128], width: 4 }
                    },
                    {
                        type: "polyline",
                        paths: [
                            [106.8038255869, 10.8697462614], [106.8037622868, 10.8697662804], [106.8037466713, 10.8698043014], [106.8033305804, 10.8698720632], [106.8029351834, 10.8698906035], [106.8033306043, 10.8698720158], [106.8037472664, 10.8698036844], [106.803741902, 10.8698152744], [106.8037526308, 10.8698590002], [106.8037896453, 10.8698821802], [106.8038320242, 10.8698821802], [106.8038717209, 10.8698669025], [106.8038947879, 10.8698368739], [106.8038931786, 10.8698042113], [106.8038829862, 10.8697715486], [106.8038255869, 10.8697462614]
                        ],
                        name: "Lối đi bộ đến trung tâm tòa B",
                        symbol: { type: "simple-line", color: [128, 128, 128], width: 4 }
                    },
                    {
                        type: "polyline",
                        paths: [
                            [106.8038355504, 10.8696454565], [106.8038280159, 10.8697465212], [106.8038969194, 10.8697791884], [106.8042230426, 10.8697836005], [106.8038964836, 10.8697791148], [106.8038846818, 10.8697722662], [106.8038278977, 10.8697466176], [106.8038355504, 10.8696454565]
                        ],
                        name: "Lối đi bộ đến trung tâm tòa B",
                        symbol: { type: "simple-line", color: [128, 128, 128], width: 4 }
                    },
                    {
                        type: "polyline",
                        paths: [
                            [106.8043511807, 10.869908715], [106.8042417467, 10.8699102954]
                        ],
                        name: "Lối đi bộ đến nhà ăn.",
                        symbol: { type: "simple-line", color: [128, 128, 128], width: 4 }
                    },
                    {
                        type: "polyline",
                        paths: [
                            [106.8039842546, 10.8694672421], [106.8038276136, 10.8694577594]
                        ],
                        name: "Lối đi bộ đến canteen.",
                        symbol: { type: "simple-line", color: [128, 128, 128], width: 4 }
                    },
                ]
            };

            // Load ArcGIS modules
            require([
                "esri/Map",
                "esri/views/MapView",
                "esri/Graphic",
                "esri/layers/GraphicsLayer"
            ], function (Map, MapView, Graphic, GraphicsLayer) {

                // Create the map
                var map = new Map({
                    basemap: "streets-navigation-vector"
                });

                // Create the view
                var view = new MapView({
                    container: "viewDiv",
                    map: map,
                    center: [106.8030304451, 10.8699855183], // Center of the map
                    zoom: 17
                });

                // Graphics Layer
                var graphicsLayer = new GraphicsLayer();

                // Function to create graphics
                var createGraphic = function (data, type) {
                    return new Graphic({
                        geometry: {
                            type: type,
                            rings: data.rings || null,
                            paths: data.paths || null,
                            x: data.x || null,
                            y: data.y || null
                        },
                        symbol: data.symbol || {
                            type: "simple-marker",
                            color: "blue",
                            size: "8px"
                        },
                        attributes: data,
                        popupTemplate: data.popupTemplate || {
                            title: "{name}"
                        }
                    });
                };

                // Add Regions
                mapData.regions.forEach(function (region) {
                    graphicsLayer.add(createGraphic(region, "polygon"));
                });

                // Add Floors
                mapData.floors.forEach(function (floor) {
                    graphicsLayer.add(createGraphic(floor, "polygon"));
                });

                // Add Nodes
                mapData.nodes.forEach(function (node) {
                    graphicsLayer.add(new Graphic({
                        geometry: { type: "point", longitude: node.x, latitude: node.y },
                        symbol: {
                            type: "simple-marker",
                            color: "red",
                            size: "10px"
                        },
                        attributes: node,
                        popupTemplate: { title: "{name}", content: "Coordinates: ({x}, {y})" }
                    }));
                });

                // Add Edges
                mapData.edges.forEach(function (edge) {
                    graphicsLayer.add(createGraphic(edge, "polyline"));
                });

                // Add Graphics Layer to Map
                map.add(graphicsLayer);
            });
        };
    </script>
</head>

<body>
    <div id="viewDiv"></div>
</body>

</html>